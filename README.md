# HTTP_Guide
http 완벽 가이드 책 정리

------

## Chapter 1
>Theme1 : HTTP 개관

### _1.1_
- HTTP : Hypertext Transfer Protocol
- HTTP는 전 세계의 웹 서버로부터 대량의 정보를 빠르고, 간편하고, 정확하게 사람들의 PC에 설치된 웹브라우저로 옮겨준다.
- HTTP는 신뢰성 있는 데이터 전송 프로토콜을 사용 -> 인터넷에서 얻은 정보의 손상 염려 불필요

### _1.2_
- 웹 콘텐츠는 웹 서버에 존재
- 클라이언트와 서버는 HTTP요청을 보내고 응답한다 : HTTP는 둘 사이의 언어라 볼 수 있음
### _1.3_
- 웹 서버는 웹 리소스를 관리 제공 : **웹 리소스**는 앞서 말한 웹 콘텐츠의 원천
- 웹 리소스 : 정적 파일, 동적 파일
- 클라이언트의 요청에 따라 서버로부터 제공되는 모든 종류의 콘텐츠는 리소스이다
- 위처럼 모든 종류의 콘텐츠가 리소스가 될 수 있으므로 HTTP는 웹에서 전송되는 객체에 MIME타입이라는 데이터 포맷 라벨을 붙인다
- 웹브라우저는 서버로부터 받은 HTTP객체의 MIME타입을 분석해 다룬다 
- >클라이언트는 uri를 통해 요청 -> 웹브라우저가 http요청 메시지 보냄-> 서버가 http응답 메시지 반환
- URI의 종류에는 url과 urn이 있다
### _1.4_
- ### **트랜잭션 : 클라이언트와 웹 서버가 리소스를 주고받기 위해서 HTTP요청과 응답을 주고받는 과정을 말한다!**
- HTTP 요청 메시지 : 한 개의 메서드를 갖는다. 대표적으로 GET, POST등이 있음
- HTTP 응답 메시지 : 상태 코드와 함께 반환된다. 예를 들어 200(성공), 404(찾지 못함)
- 웸페이지는 한 개 이상의 객체로 이루어져 있다. 따라서 웹페이지를 구성하기 위해서는 여러 번의 트랜잭션이 이루어짐
### _1.5_
- 앞서 클라이언트와 웹 서버가 소통하기 위해서 HTTP 메시지를 사용함을 알게 됨 -> 그렇다면 HTTP 메시지는 어떻게 구성될까?
- HTTP 메시지는 단순한 줄 단위의 문자열 : 시작줄, 헤더, 본문 구성
### _1.6_
- 그렇다면 HTTP메시지가 어떻게 전달 될 수 있을까? -> TCP 커넥션을 통해 전송됨
- HTTP는 애플리케이션 계층 프로토콜 -> 네트워크 통신의 세부사항은 인터넷 전송 프로토콜인 TCP/IP가 담당
- 웹브라우저가 url로부터 웹서버와 통신하여 클라이언트에게 리소스를 보여주는 과정
  1. 웹브라우저가 제공된 url에서 호스트 명을 추출
  2. 웹브라우저가 서버의 호스트 명을 ip로 변환(DNS)
  3. 웹브라우저가 url에 포트번호가 있다면 추출
  4. 웹서버와 TCP 커넥션
  5. 서버에 HTTP 요청
  6. 웹브라우저에 HTTP 응답
  7. 커넥션이 닫히며 클라이언트에게 문서 제공
### _1.8_
- 웹의 구성요소 : 프락시, 캐시, 게이트웨이, 터널, 에이전트 -> 웹애플리케이션들 -> <span style="background-color:yellow">다음장부터 공부할텐데 개념 정리할때마다 하이퍼링크 하기</span>  
---
>Theme2 : URL과 리소스

### _2.1_
- URL은 인터넷 리소스를 가리키는 표준이름이다
- 우리가 택시를 타고 어디로 가주세요~ 라고 하면 서로 소통이 되는 것처럼 URL은 인터넷 리소스에 접근할 수 있게 해줌
- URL의 구성
  - 첫 부분 : 스킴 -> 어떻게 접근할 것인가
  - 두 번째 부분 : 서버의 위치 = 어디로 접근할 것인가
  - 세 번재 부분 : 리소스의 경로 = 무엇에 접근할 것인가
### _2.2_
- URL문법 : <스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<쿼리>#<프래크먼트>
- 프래크먼트 : 클라이언트가 보고자 하는 리소스의 일부를 보여줌

### _2.3_
- 상대 URL : 기저 URL과 조합하여 절대 URL로 변환

>Theme3 : Http 메시지

### _3.1_
- HTTP 메시지는 강물과 같이 다운스트림으로 흐른다

### _3.2_
- 메시지는 기본적으로 시작줄, 헤더, 본문으로 구성된다
- 요청 메시지 : 메서드, 요청URL, 버전 / 헤더 / (개행문자)본문
- 응답 메시지 : 버전, 상태코드, 사유 구절 / 헤더 / (개행문자)본문
- 자주 쓰이는 요청 메시지 메서드로는 <GET, HEAD, POST, PUT, TRACE, OPTIONS, DELETE>가 있다
- HTTP는 쉽게 확장되도록 설계되어 위의 메서드가 모두 구현되어 있지 않을 수도 있고, 확장메서드가 구현되어 있을 수도 있다
- 용청 메시지의 메서드가 서버에게 무엇을 해야하는지 말해주는 것처럼 응답 메시지의 상태코드는 클라이언트에게 무슨 일이 일어났는지 알려준다
- _각 부분에 대한 자세한 설명은 따로 기록하기에는 나중에 필요할 때 따로 찾아보는게 유용할듯_
>Theme4 : 커넥션 관리  
-> HTTP는 어떻게 TCP커넥션을 사용하는가

### _4.1_
- 전 세계 모든 HTTP 통신은 지구상의 컴퓨터와 네트워크 장비에서 널리 쓰이고 있는 패킷 교환 네트워크 프로토콜들의 계층화된 집합인 TCP/IP를 통해 이루어진다
- 일단 커넥션이 맺어지면 주고 받는 메시지들의 손실, 손상 등에 대해 걱정할 필요가 없다
- 과정
  1. 브라우저가 URL을 통해 호스트 명 추출
  2. 브라우저가 호스트 명에 대한 IP 주소 찾음
  3. 브라우저가 포트 번호 추출
  4. 브라우저가 IP와 포트 번호로 TCP커넥션 생성
  5. 브라우저가 서버로 요청 메시지 받음
  6. 브라우저가 서버로부터 응답 메시지 읽음
  7. 브라우저가 커넥션 끊음
- 컴퓨터는 다수의 TCP커넥션을 유지하는데 포트 번호를 통해 가능하다 -> IP주소 : 회사 대표 전화, 포트 번호 : 회사 내선전화

### _4.2_
- HTTP는 TCP 바로 위에 있는 계층이기 때문에 HTTP 트랜잭션 성능은 TCP성능에 큰 영향을 받는다  
  ![HTTP 계층구조](./image/HTTP%20계층구조.png)

### _4.3 ~ 4.6_
- HTTP 커넥션 관리는 HTTP의 성능에 직접적인 영향을 끼친다
- 순차적인 트랜잭션 처리는 지연을 발생시킨다. 이는 컴퓨터 구조에서 명령어 수행 지연과 비슷한 맥락으로 보임
- 순차적인 처리로 인한 지연은 물리적인 지연뿐 아니라, 심리적인 지연(웹페이지의 나머지 공간에 아무런 변화가 없음)도 발생시킨다
- HTTP 커넥션을 향상시킬 수 있는 여러 기술이 있다 : 병렬, 지속, 파이프라인, 다중 커넥션
- 병렬 커넥션 : 여러 개의 커넥션을 통해 병렬 처리함 / 클라이언트 네트워크 대역폭이 좁을 때 문제가 됨, 메모리 소비 문제
- 지속 커넥션 : 처리가 완료된 후에도 TCP 커넥션을 유지하여 앞으로 있을 HTTP 요청에 재사용 할 수 있다(커넥션 연결, 해지의 비용 절약)
  - 멍청한 프록시, 영리한 프록시 문제가 발생할 수 있다
- 파이프라인 커넥션 : 지속 커넥션을 통해서 요청을 파이프라이닝 한다 / POST 요청과 같이 반복해서 보낼 경우 문제가 생기는 요청은 파이프라인을 통해 보낼 수 없다 -> 서버가 모든 요청을 처리하지 않고 커넥션을 임의로 끊을 수 있기 때문이다

### _4.7_
- 어떠한 HTTP클라이언트, 서버, 프록시는 언제든지 TCP 전송 커넥션을 끊을 수 있다
- 보통 메시지를 다 전송한 뒤에 끊지만, 에러가 발생하면 엉뚱한 곳에서 끊길 수도 있다
- 우아한 커넥션 끊기
  - TCP 커넥션은 양방한 커넥션이다. 양쪽에는 입력 큐, 출력 큐 각각 존재
  - 예기치 않게 커넥션을 끊어야 한다면 '우아하게 커넥션을 끊어야한다'
  - 절반끊기 shutdown()


> TODO
- 9.23 : HTTP 완벽가이드  책을 보면서 생각보다 오래된 용어와 개념이 많은 것 같아서
우선순위상에 있는 챕터들을 먼저 공부하고, 9.25부터는 2022년에 나온 네트워크 기본서 + 프락시개념 공부
9.24 -> HTTP 완벽가이드 마무리 및 정리
우선 내용에 집중하기 위해 정리는 한 번에 하자, 다음 책은 그때 그때 정리하자
- 10.2 -> 프락시 proxy로 개념 정리 -> 10.4 연휴 끝나기 전까지 네트워크 부분 완벽 정리 / 네트워크 기본서는 나중에 보기 우선 객체지향 프로그래밍 연습 해보기!! 우테코 준비